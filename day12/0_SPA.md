# 12일차

## SPA(Single Page Application)

- 말 그대로 한 개의 페이지로 이루어진 애플리케이션이라는 의미
- 애플리케이션 내에서 화면 전환이 일어날 때마다 html을 계속 서버에 요청하면 불필요한 로딩이 있어 비효율적
- 리액트같은 라이브러리(or 프레임워크)를 사용하여 우선 브라우저에서 실행시킨 후에 사용자와의 인터랙션이 발생하면 필요한 부분만 업데이트해줌
  - 새로운 데이터가 필요하다면 서버 API를 호출하여 필요한 데이터만 불러와 애플리케이션에서 사용
- `라우팅` : 다른 주소에 다른 화면을 보여주는 것
  - 리액트 자체에 이 기능이 내장되어 있지 않아 리액트 라우터(react-router), 리치 라우터(reach-router), Next.js 중 리액트 라우터 사용
  - 리액트 라우터는 클라이언트 사이드에서 이루어지는 라우팅을 아주 간단하게 구현할 수 있도록 해줌

### SAP의 단점

- 페이지 로딩 시 사용자가 방문하지 않을 수도 있는 페이지의 스크립트도 불러오기에 앱의 규모가 커지면 JS 파일이 너무 커짐
  - 코드 스플리팅(code splitting)을 사용하여 라우트별로 파일들을 나누어 트래픽과 로딩 속도를 개선
- 크롤러에서 페이지의 정보를 제대로 수집하지 못해 검색 결과에 페이지가 잘 나타나지 않을 수도 있음
- 자바스크립트 파일이 로딩되어 실행되는 동안 흰 페이지가 나타날 수도 있음
  - 서버 사이드 렌더링(server-side rendering)으로 해결 가능

### 프로젝트에 라우터 적용

- react-router-dom에 내장되어 있는 BrowserRouter라는 컴포넌트를 사용하여 감싸면 됨(설치해야함)
  - 웹 애플리케이션에 HTML5의 History API를 사용하여 페이지를 새로고침하지 않고도 주소를 변경하고, \
    현재 주소에 관련된 정보를 props로 조회하거나 사용할 수 있도록 해줌

```jsx
import { BrowserRouter } from "react-router-dom";
ReactDOM.render(
  <BrowserRouter>
    <App />
  </BrowserRouter>,
  document.getElementById("root")
);
```

### Route 컴포넌트로 특정 주소에 컴포넌트 연결

```jsx
<Route path="주소규칙" component={보여줄 컴포넌트} />
```

- `exact={true}` : 주어진 경로와 정확하게 맞아야만 보여줌
  - ex) '/about' 경로가 '/' 규칙에도 일치하기에 두 컴포넌트가 나타남

### Link 컴포넌트를 사용하여 다른 주소로 이동하기

- Link 컴포넌트 : 클릭하면 다른 주소로 이동시켜 주는 컴포넌트
  - 일반 웹에서 사용되는 a태그 사용 시, 페이지 전환하는 과정에서 애플리케이션이 가지고 있는 상태를 모두 날려버림
  * Link 컴포넌트를 사용하여 페이지를 전환하면, 애플리케이션을 그대로 유지한 상태에서 페이지의 주소만 변경해줌
- Link 컴포넌트 자체는 a태그로 이루어져 있지만, 페이지 전환을 방지하는 기능이 내장되어 잇음

```jsx
<Link to="주소">내용</Link>
```

### Route 하나에 여러 개의 path 설정하기

- 여러 개의 path에 같은 컴포넌트를 보여주고 싶을 때

```jsx
<Route path={["/about", "/info"]} component={About} />
```

## URL 파라미터와 쿼리

### URL 파라미터

- 파라미터 예시 : `/profiles/velopert`
- 일반적으로 파라미터는 특정 아이디 혹은 이름을 사용하여 조회할 때 사용
- 라우트로 사용되는 컴포넌트에서 받아오는 match라는 객체 안의 params 값을 참조
  - match 객체 안에는 현재 컴포넌트가 어떤 경로 규칙에 의해 보이는지에 대한 정보가 들어있음
  - ex) path 규칙에 'profiles/:username'이라고 넣으면 match.params.username 값을 통해 조회 가능

### 쿼리

- 쿼리 예시 : `/about?details=true`
- 쿼리는 어떤 키워드를 검색하거나 페이지에 필요한 옵션을 전달할 때 사용
- location 객체에 들어 있는 search 값에서 조회
- 쿼리 문자열을 객체로 변환할 때는 qs 라이브러리 사용(설치해야함)
  - 쿼리 문자열을 객체로 파싱하는 과정에서 결과 값은 언제나 문자열이라는 점, 따라서 숫자면 parseInt 함수로 변환해주어야함

```jsx
// location의 형태 예시
{
  "pathname": "/about",
  "search": "?detail=true",
  "hash": "",
}
```
